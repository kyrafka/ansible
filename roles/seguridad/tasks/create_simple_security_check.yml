---
# Script simple de verificaci贸n de seguridad

- name: "Crear script de verificaci贸n de seguridad simple"
  template:
    src: security-check-simple.sh.j2
    dest: /usr/local/bin/security-check-simple.sh
    mode: '0755'

- name: "Crear enlace simb贸lico para f谩cil acceso"
  file:
    src: /usr/local/bin/security-check-simple.sh
    dest: /usr/local/bin/sec-check
    state: link

- name: "Ejecutar verificaci贸n inicial"
  command: /usr/local/bin/sec-check --quick
  register: security_initial
  changed_when: false
  failed_when: false

- name: "Mostrar script de seguridad"
  debug:
    msg: |
       Script de seguridad simple creado:
      
      Comandos disponibles:
      - sec-check          (verificaci贸n completa)
      - sec-check --quick  (verificaci贸n r谩pida)
      - sec-check --report (generar reporte)
      
      Verifica:
      - Servicios cr铆ticos activos
      - Puertos abiertos vs esperados
      - Usuarios con shell de login
      - Archivos con permisos sospechosos
      - Procesos consumiendo recursos
      - Espacio en disco
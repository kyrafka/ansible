---
# Crear scripts de seguridad personalizados

- name: "Crear script maestro de seguridad"
  template:
    src: security-master.sh.j2
    dest: /usr/local/bin/security-master.sh
    mode: '0755'

- name: "Crear script de reporte de seguridad"
  template:
    src: security-report.sh.j2
    dest: /usr/local/bin/security-report.sh
    mode: '0755'

- name: "Crear script de hardening automÃ¡tico"
  template:
    src: auto-hardening.sh.j2
    dest: /usr/local/bin/auto-hardening.sh
    mode: '0755'

- name: "Crear script de monitoreo en tiempo real"
  template:
    src: security-monitor.sh.j2
    dest: /usr/local/bin/security-monitor.sh
    mode: '0755'

- name: "Crear enlaces simbÃ³licos para fÃ¡cil acceso"
  file:
    src: "/usr/local/bin/{{ item.src }}"
    dest: "/usr/local/bin/{{ item.dest }}"
    state: link
  loop:
    - { src: 'security-master.sh', dest: 'sec-master' }
    - { src: 'security-report.sh', dest: 'sec-report' }
    - { src: 'auto-hardening.sh', dest: 'sec-harden' }
    - { src: 'security-monitor.sh', dest: 'sec-monitor' }

- name: "Mostrar scripts creados"
  debug:
    msg: |
      ğŸ”§ Scripts de seguridad creados:
      
      ğŸ“Š sec-report - Reporte completo de seguridad
      ğŸ›¡ï¸ sec-master - Ejecutar todas las herramientas
      ğŸ”’ sec-harden - Hardening automÃ¡tico del sistema
      ğŸ‘ï¸ sec-monitor - Monitoreo en tiempo real
      
      Ejecuta cualquiera para obtener ayuda detallada
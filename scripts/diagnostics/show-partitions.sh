#!/bin/bash

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "๐พ INFORMACIรN COMPLETA DE PARTICIONES Y ALMACENAMIENTO"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "๐ Esta informaciรณn es para la rรบbrica de SO"
echo ""

# Colores
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "1๏ธโฃ  ESQUEMA DE DISCOS Y PARTICIONES"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""

echo "๐น Vista de รกrbol de bloques (lsblk):"
lsblk -o NAME,SIZE,TYPE,FSTYPE,MOUNTPOINT
echo ""

echo "๐น Informaciรณn detallada de discos:"
sudo fdisk -l 2>/dev/null | grep -E "Disk /dev/|Device|Sector"
echo ""

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "2๏ธโฃ  VOLรMENES LรGICOS (LVM)"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""

if command -v pvdisplay &> /dev/null; then
    echo "๐น Physical Volumes (PV):"
    sudo pvdisplay 2>/dev/null | grep -E "PV Name|VG Name|PV Size"
    echo ""
    
    echo "๐น Volume Groups (VG):"
    sudo vgdisplay 2>/dev/null | grep -E "VG Name|VG Size|Free"
    echo ""
    
    echo "๐น Logical Volumes (LV):"
    sudo lvdisplay 2>/dev/null | grep -E "LV Path|LV Name|LV Size"
    echo ""
else
    echo "โ๏ธ  LVM no estรก instalado o no se usa en este sistema"
    echo ""
fi

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "3๏ธโฃ  USO DE ESPACIO EN DISCO"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""

echo "๐น Uso de sistemas de archivos montados:"
df -h | grep -E "Filesystem|/dev/"
echo ""

echo "๐น Uso de inodos:"
df -i | grep -E "Filesystem|/dev/" | head -10
echo ""

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "4๏ธโฃ  PUNTOS DE MONTAJE IMPORTANTES"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""

echo "๐น Tabla de montajes (fstab):"
cat /etc/fstab | grep -v "^#" | grep -v "^$"
echo ""

echo "๐น Montajes actuales:"
mount | grep -E "^/dev/" | column -t
echo ""

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "5๏ธโฃ  USO POR DIRECTORIO"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""

echo "๐น Directorios mรกs grandes en /:"
sudo du -sh /* 2>/dev/null | sort -hr | head -10
echo ""

echo "๐น Uso de /var (logs y servicios):"
sudo du -sh /var/* 2>/dev/null | sort -hr | head -5
echo ""

echo "๐น Uso de /home (usuarios):"
sudo du -sh /home/* 2>/dev/null | sort -hr
echo ""

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "6๏ธโฃ  INFORMACIรN DE SWAP"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""

echo "๐น Memoria swap:"
free -h | grep -E "Mem:|Swap:"
echo ""

echo "๐น Dispositivos swap:"
swapon --show
echo ""

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "7๏ธโฃ  TABLA RESUMEN DE PARTICIONES"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""

echo "| Particiรณn | Punto Montaje | Tamaรฑo | Usado | Disponible | Uso% | Tipo |"
echo "|-----------|---------------|--------|-------|------------|------|------|"

df -h | grep -E "^/dev/" | awk '{
    printf "| %-9s | %-13s | %-6s | %-5s | %-10s | %-4s | %-4s |\n", 
    $1, $6, $2, $3, $4, $5, "ext4"
}'

echo ""

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "8๏ธโฃ  DIAGRAMA ASCII DE PARTICIONES"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""

cat << 'EOF'
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Disco: /dev/sda                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                         โ
โ  /dev/sda1  โ  /boot      (1 GB)   ext4               โ
โ  /dev/sda2  โ  LVM PV     (resto)                     โ
โ                                                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Volume Group: ubuntu-vg                        โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค  โ
โ  โ  LV: root   โ  /       (10 GB)  ext4           โ  โ
โ  โ  LV: var    โ  /var    (5 GB)   ext4           โ  โ
โ  โ  LV: home   โ  /home   (2 GB)   ext4           โ  โ
โ  โ  LV: swap   โ  swap    (2 GB)   swap           โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
EOF

echo ""

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "9๏ธโฃ  COMANDOS PARA CAPTURAS DE PANTALLA"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "Para la rรบbrica, ejecuta estos comandos y toma capturas:"
echo ""
echo "1. Ver particiones:"
echo "   lsblk"
echo ""
echo "2. Uso de disco:"
echo "   df -h"
echo ""
echo "3. LVM (si aplica):"
echo "   sudo pvdisplay"
echo "   sudo vgdisplay"
echo "   sudo lvdisplay"
echo ""
echo "4. Tabla de particiones:"
echo "   sudo fdisk -l"
echo ""
echo "5. Uso por directorio:"
echo "   sudo du -sh /*"
echo ""
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "โ INFORMACIรN DE PARTICIONES COMPLETADA"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

---
# Prueba simple sin privilegios
- name: Prueba bÃ¡sica del proyecto
  hosts: localhost
  connection: local
  gather_facts: true
  become: false
  
  vars:
    test_network: "2025:db8:10::/64"
    test_domain: "gamecenter.local"
  
  tasks:
    - name: Mostrar informaciÃ³n del sistema
      debug:
        msg: |
          ğŸ–¥ï¸ Sistema: {{ ansible_distribution }} {{ ansible_distribution_version }}
          ğŸŒ Red de prueba: {{ test_network }}
          ğŸ  Dominio: {{ test_domain }}
          ğŸ“ Directorio actual: {{ ansible_env.PWD }}
    
    - name: Verificar que los templates existen
      stat:
        path: "{{ item }}"
      register: template_check
      loop:
        - "roles/common/templates/rsyslog-proyecto.conf.j2"
        - "roles/common/templates/log-monitor.sh.j2"
        - "roles/vmware/templates/user-data.j2"
      
    - name: Mostrar estado de templates
      debug:
        msg: "Template {{ item.item }}: {{ 'EXISTE' if item.stat.exists else 'FALTA' }}"
      loop: "{{ template_check.results }}"